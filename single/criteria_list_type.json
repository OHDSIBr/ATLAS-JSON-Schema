{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id":"criteria_list_type.json",
  "type": "array",
  "title": "Initial event",
  "format":"tabs-top",
  "additionalProperties": false,
  "options": {
    "array_controls_top":true,
    "disable_collapse":true,
    "disable_edit_json":true,
    "disable_properties":true,
    "display_required_only":true,
    "no_additional_properties":true,
    "remove_empty_properties": true
  },
  "description":"People having any of the following events...",
  "items": {
    "title": "Event: ",
    "description": "Use properties to add visit restriction and end window.",
    "type":"object",
    "additionalProperties": false,
    "options": {
      "disable_edit_json":true,
      "disable_properties":false,
      "display_required_only":true,
      "no_additional_properties":true,
      "remove_empty_properties": true
    },
    "required":["IgnoreObservationPeriod","Occurrence","Criteria","StartWindow"],
    "defaultProperties":["IgnoreObservationPeriod","Occurrence","Criteria","StartWindow"],
    "properties": {
      "IgnoreObservationPeriod":{"title": " allow events from outside observation period", "type":"boolean","format":"checkbox"},
      "Occurrence":{"title":"Occurrences:","$ref":"#/definitions/occurrence.json"},
      "Criteria":{
    "oneOf":[
        {"$ref":"#/definitions/condition_era_criteria.json"},
        {"$ref":"#/definitions/condition_occurrence_criteria.json"},
        {"$ref":"#/definitions/death_criteria.json"},
        {"$ref":"#/definitions/device_exposure_criteria.json"},
        {"$ref":"#/definitions/dose_era_criteria.json"},
        {"$ref":"#/definitions/drug_era_criteria.json"},
        {"$ref":"#/definitions/drug_exposure_criteria.json"},
        {"$ref":"#/definitions/location_region_criteria.json"},
        {"$ref":"#/definitions/measurement_criteria.json"},
        {"$ref":"#/definitions/observation_criteria.json"},
        {"$ref":"#/definitions/observation_period_criteria.json"},
        {"$ref":"#/definitions/payer_plan_period_criteria.json"},
        {"$ref":"#/definitions/procedure_occurrence_criteria.json"},
        {"$ref":"#/definitions/specimen_criteria.json"},
        {"$ref":"#/definitions/visit_occurrence_criteria.json"}
      ]
      },
      "StartWindow":{"title":"Start window is:","$ref":"#/definitions/window_limit.json"},
      "EndWindow":{"default":{"UseEventEnd":true},"title":"and end window is:","$ref":"#/definitions/window_limit.json"},
      "RestrictVisit":{"type":"boolean","title": " restrict to the same visit occurrence","format":"checkbox"}
    }
  }
}